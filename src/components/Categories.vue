<template>
  <div class="categories">
    <div class="categories-text">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</div>
    <div class="store-categories">
      <div>
        <input
          type="radio"
          name="categories"
          id="all_categories"
          v-on:change="changeCategory"
          v-model="category_pick"
          value="‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
        />
        <label for="all_categories">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
      </div>
      <div
        v-for="(category, index) in this.$store.state.categories"
        :key="index"
      >
        <input
          type="radio"
          name="categories"
          :id="category.name"
          :value="category.name"
          v-on:change="changeCategory"
          v-model="category_pick"
        />
        <label :for="category.name">{{ category.name }}</label>
      </div>
    </div>
    <h3>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡πÉ‡∏Å‡∏•‡πâ‡∏â‡∏±‡∏ô</h3>
    <select name="provinces" id="near-categories">
      <option value="">üìå ‡∏û‡∏¥‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏â‡∏±‡∏ô</option>
      <option value="">üó∫ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
      <option value="" disabled>-----------------------------</option>
      <option
        v-for="(province, index) in this.$store.state.provinces"
        :key="index"
        :value="province"
      >
        {{ province }}
      </option>
    </select>
    <h3>‡∏£‡∏≤‡∏Ñ‡∏≤</h3>
    <select name="priceRange" id="near-categories">
      <option value="-" disabled selected>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
      <option
        v-for="(priceRange, index) in this.$store.state.priceRange"
        :key="index"
        value="priceRange"
      >
        {{ priceRange }}
      </option>
    </select>
    <subCategories :category="this.category_pick" />
  </div>
</template>
<style scoped>
.categories-text {
  font-size: 1.2rem;
  margin-bottom: 10px;
  font-weight: 700;
}
.categories {
  border: solid 1px rgb(156, 156, 156);
  background: white;
  padding: 20px;
  height: fit-content;
}

.store-categories {
  display: grid;
  gap: 5px;
}

#text-categories {
  margin: 10px;
}
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
  width: 20px;
  -webkit-transform: scale(1.3);
}

#near-categories {
  width: 100%;
  margin: auto;
  padding: 10px;
}
@media screen and (max-width: 600px) {
  .categories {
    display: none;
  }
}
</style>
<script>
import subCategories from "./subCategories";
export default {
  components: {
    subCategories,
  },
  data: function () {
    return {
      category_pick: this.$store.state.category_pick,
    };
  },
  methods: {
    changeCategory() {
      this.$store.state.category_pick = this.category_pick;
      console.log(this.category_pick);
      console.log(this.$store.state.category_pick);
    },
  },
};
</script>